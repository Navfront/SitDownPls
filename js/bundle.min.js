"use strict";document.addEventListener("DOMContentLoaded",(function(){var e=document.querySelectorAll(".catalog-select__select");e.length&&Array.from(e).forEach((function(e){new Choices(e,{duplicateItemsAllowed:!1,searchEnabled:!1,position:"bottom",allowHTML:!0,classNames:{containerOuter:"filter-choices",containerInner:"filter-choices__inner",input:"filter-choices__input",inputCloned:"filter-choices__input--cloned",list:"filter-choices__list",listSingle:"filter-choices__list--single",listDropdown:"filter-choices__list--dropdown",item:"filter-choices__item",itemSelectable:"filter-choices__item--selectable",itemDisabled:"filter-choices__item--disabled",itemChoice:"filter-choices__item--choice",placeholder:"filter-choices__placeholder",activeState:"is-active",focusState:"is-focused",openState:"is-open",highlightedState:"is-highlighted",selectedState:"is-selected"}})}))})),document.addEventListener("DOMContentLoaded",(function(){var e=document.querySelector(".js-burger"),t=document.querySelector(".js-burger-menu"),o=document.querySelector(".js-extra-list"),s=document.querySelector(".js-nav-extra"),n="Развернуть меню",r="Свернуть меню",i=window.matchMedia("(max-width: 700px)");function l(e){e.matches?o.parentNode!==t&&t.append(o):o.parentNode!==s&&s.append(o)}i.addEventListener("change",l),l(i),e.addEventListener("click",(function(){t.classList.toggle("navigation__wrapper--show"),e.ariaLabel===n?(e.ariaLabel=r,e.ariaExpanded=!0):(e.ariaLabel=n,e.ariaExpanded=!1);e.classList.toggle("burger--close")}))})),document.addEventListener("DOMContentLoaded",(function(){new Choices(document.querySelector(".js-category-select"),{duplicateItemsAllowed:!1,searchEnabled:!1,position:"bottom",allowHTML:!0,classNames:{containerOuter:"category-choices",containerInner:"category-choices__inner",input:"category-choices__input",inputCloned:"category-choices__input--cloned",list:"category-choices__list",listSingle:"category-choices__list--single",listDropdown:"category-choices__list--dropdown",item:"category-choices__item",itemSelectable:"category-choices__item--selectable",itemDisabled:"category-choices__item--disabled",itemChoice:"category-choices__item--choice",placeholder:"category-choices__placeholder",activeState:"is-active",focusState:"is-focused",openState:"is-open",highlightedState:"is-highlighted",selectedState:"is-selected"}})})),document.addEventListener("DOMContentLoaded",(function(){new Choices(document.querySelector(".js-city-select"),{duplicateItemsAllowed:!1,searchEnabled:!1,position:"bottom",allowHTML:!0,classNames:{containerOuter:"city-choices",containerInner:"city-choices__inner",input:"city-choices__input",inputCloned:"city-choices__input--cloned",list:"city-choices__list",listSingle:"city-choices__list--single",listDropdown:"city-choices__list--dropdown",item:"city-choices__item",itemSelectable:"city-choices__item--selectable",itemDisabled:"city-choices__item--disabled",itemChoice:"city-choices__item--choice",placeholder:"city-choices__placeholder",activeState:"is-active",focusState:"is-focused",openState:"is-open",highlightedState:"is-highlighted",selectedState:"is-selected"}})})),document.addEventListener("DOMContentLoaded",(function(){var e=document.querySelector(".js-subscribe-form");if(e){var t=new JustValidate(".js-subscribe-form",{errorFieldCssClass:["form__input--invalid"],errorLabelCssClass:["form__label-error"],successFieldCssClass:["form__input--valid"],successLabelCssClass:["form__label--valid"],focusInvalidField:!1,errorLabelStyle:{color:"#ff6972"}});t.addField(".js-subscribe-name",[{rule:"required",errorMessage:"Обязательное поле"},{rule:"minLength",value:3,errorMessage:"Минимальная длина: 3 символа"},{rule:"maxLength",value:15,errorMessage:"Максимальная длина: 15 символов"},{rule:"customRegexp",value:/^[а-яa-z]+$/i,errorMessage:"Недопустимый формат"}]).addField(".js-subscribe-email",[{rule:"required",errorMessage:"Обязательное поле"},{rule:"email",errorMessage:"Нужно ввести email"}]).addField(".js-subscribe-tel",[{rule:"required",errorMessage:"Обязательное поле"},{rule:"customRegexp",value:/^((\+7|7|8)+([0-9]){10})$/i,errorMessage:"Недопустимый формат"}]).addField(".js-agree-checkbox",[{rule:"required",errorMessage:"Нужно принять соглашение"}]),t.onSuccess((function(){var o=document.querySelector(".js-index-thx-modal"),s=o?o.querySelector(".js-modal-close-btn"):null;if(o&&s){s.addEventListener("click",(function(){!function(e){e.classList.add("modal--hide"),e.classList.remove("modal--show"),setTimeout((function(){e.close(),document.body.classList.remove("no-scroll")}),300)}(o)})),function(e){e.classList.remove("modal--hide"),e.showModal(),e.classList.add("modal--show"),document.body.classList.add("no-scroll")}(o),e.reset(),t.destroy(),e.disabled=!0,t.refresh()}}))}})),document.addEventListener("DOMContentLoaded",(function(){var e=document.querySelector(".js-hero-slider");if(e)new Swiper(e,{loop:!0,pagination:{el:".js-hero-pagination",bulletActiveClass:"hero__pagination-bullet--active",bulletClass:"hero__pagination-bullet"},containerModifierClass:"hero__",wrapperClass:"hero__wrapper",slideClass:"hero__slide"});var t=document.querySelector(".js-specials-slider");if(t)new Swiper(t,{slidesPerView:"auto",spaceBetween:32,navigation:{nextEl:".js-spec-next",prevEl:".js-spec-prev"}});if(document.querySelector(".js-usefull-slider"))new Swiper(".js-usefull-slider",{slidesPerView:"auto",spaceBetween:32,navigation:{nextEl:".js-usefull-next",prevEl:".js-usefull-prev"}});var o=document.querySelector(".js-products-slider");if(o)new Swiper(o,{pagination:{el:".slider-pagination",clickable:!0,renderBullet:function(e,t){return'<button class="btn slider-pagination__btn '.concat(t,'" type="button">\n          ').concat(e+1,"</button>")}},breakpoints:{320:{slidesPerView:2,slidesPerGroup:3,spaceBetween:16,grid:{rows:3}},700:{slidesPerView:2,slidesPerGroup:3,spaceBetween:30,grid:{rows:3}},991:{slidesPerView:3,slidesPerGroup:3,spaceBetween:30,grid:{rows:3}}},containerModifierClass:"products__",wrapperClass:"products__wrapper",slideClass:"products__slide"})}));var e="active";function t(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var s,n,r,i,l=[],a=!0,c=!1;try{if(r=(o=o.call(e)).next,0===t){if(Object(o)!==o)return;a=!1}else for(;!(a=(s=r.call(o)).done)&&(l.push(s.value),l.length!==t);a=!0);}catch(e){c=!0,n=e}finally{try{if(!a&&null!=o.return&&(i=o.return(),Object(i)!==i))return}finally{if(c)throw n}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var s=Object.prototype.toString.call(e).slice(8,-1);"Object"===s&&e.constructor&&(s=e.constructor.name);if("Map"===s||"Set"===s)return Array.from(e);if("Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return o(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,s=new Array(t);o<t;o++)s[o]=e[o];return s}document.addEventListener("DOMContentLoaded",(function(){var t=document.body.querySelectorAll('input[type="text"]'),o=document.body.querySelectorAll('input[type="search"]');function s(t){t.target.classList.add(e)}function n(t){t.target.classList.remove(e)}t.length&&Array.from(t).concat(Array.from(o)).forEach((function(e){e.addEventListener("input",s),e.addEventListener("blur",n)}))})),document.addEventListener("DOMContentLoaded",(function(){var e=!1;var o,s=document.querySelector(".js-price-slider"),n=document.querySelector(".js-price-slider-from"),r=document.querySelector(".js-price-slider-to");if(s){var i=noUiSlider.create(s,{start:[2e3,15e4],connect:!0,step:100,range:{min:0,max:222e3}}),l=t(i.target.querySelectorAll(".noUi-handle"),2),a=l[0],c=l[1],d=document.createElement("div");d.innerHTML='<svg width="13" height="13" viewBox="0 0 13 13" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M1.0197 13C0.25466 13 -0.23717 12.1878 0.117236 11.5096L5.84671 0.546693C6.23552 -0.197262 7.30668 -0.177781 7.66819 0.579819L12.8994 11.5428C13.222 12.2187 12.7293 13 11.9804 13L1.0197 13Z" /></svg>';var u=d.firstChild;a.append(u.cloneNode(!0)),c.append(u.cloneNode(!0)),[a,c].forEach((function(e){var t="noUi-handle--focused";e.addEventListener("focus",(function(){e.classList.add(t)})),e.addEventListener("blur",(function(){e.classList.remove(t)}))})),i.on("update",(o=function(e,t){if(t){var o=parseInt(e[1]);r.value=o>=1e4?o.toLocaleString():o}else{var s=parseInt(e[0]);n.value=s>=1e4?s.toLocaleString():s}},function(t,s){e||(o(t,s),e=!0,setTimeout((function(){e=!1}),20))}));var p=[n.value,r.value];n.addEventListener("change",(function(){var e=parseInt(n.value.replace(/\D/i,""));p[0]=e<0||e>2e5?0:e,i.set(p)})),r.addEventListener("change",(function(){var e=parseInt(r.value.replace(/\D/i,""));p[1]=e<0||e>2e5?2e5:e,i.set(p)}))}})),document.addEventListener("DOMContentLoaded",(function(){!function(){var t=document.querySelector(".js-oneclickby-form");if(t){var o=new JustValidate(t,{errorFieldCssClass:["form__input--invalid"],errorLabelCssClass:["form__label-error"],successFieldCssClass:["form__input--valid"],successLabelCssClass:["form__label--valid"],focusInvalidField:!1,errorLabelStyle:{color:"#ff6972"}});o.addField(".js-oneclickby-name",[{rule:"required",errorMessage:"Обязательное поле"},{rule:"minLength",value:3,errorMessage:"Минимальная длина: 3 символа"},{rule:"maxLength",value:15,errorMessage:"Максимальная длина: 15 символов"},{rule:"customRegexp",value:/^[а-яa-z]+$/i,errorMessage:"Недопустимый формат"}]).addField(".js-oneclickby-tel",[{rule:"required",errorMessage:"Обязательное поле"},{rule:"customRegexp",value:/^((\+7|7|8)+([0-9]){10})$/i,errorMessage:"Недопустимый формат"}]).addField(".js-oneclickby-checkbox",[{rule:"required",errorMessage:"Нужно принять соглашение"}]),o.onSuccess((function(){i(e),r(s)}))}}();var e=document.querySelector(".js-click-buy-modal"),t=document.querySelector(".js-click-buy-btn"),o=e?e.querySelector(".js-modal-close-btn"):null;e&&t&&o&&(t.addEventListener("click",(function(t){try{r(e)}catch(e){}})),o.addEventListener("click",(function(){i(e)})));var s=document.querySelector(".js-thanks-modal"),n=s?s.querySelector(".js-modal-close-btn"):null;function r(e){e.classList.remove("modal--hide"),e.showModal(),e.classList.add("modal--show"),document.body.classList.add("no-scroll")}function i(e){e.classList.add("modal--hide"),e.classList.remove("modal--show"),setTimeout((function(){e.close(),document.body.classList.remove("no-scroll")}),300)}s&&n&&n.addEventListener("click",(function(){i(s)}))})),document.addEventListener("DOMContentLoaded",(function(){var e=document.querySelector(".js-product-thumb"),t=document.querySelector(".js-product-slider");if(t&&e){var o=new Swiper(e,{slidesPerView:"auto",freeMode:!0,watchSlidesProgress:!0,breakpoints:{320:{slidesPerView:2.15,direction:"horizontal"},553:{heigth:95,direction:"vertical",autoHeight:!0,slidesOffsetBefore:15},992:{slidesPerView:4,spaceBetween:0,direction:"horizontal"}}});new Swiper(t,{spaceBetween:10,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},thumbs:{swiper:o},effect:"fade",fadeEffect:{crossFade:!0}})}var s=document.querySelector(".js-similar-slider");if(s)new Swiper(s,{slidesPerView:"auto",spaceBetween:32,navigation:{nextEl:".js-similar-next",prevEl:".js-similar-prev"},breakpoints:{320:{slidesPerView:2,spaceBetween:16},700:{slidesPerView:2,spaceBetween:32},991:{slidesPerView:3,spaceBetween:32},1200:{slidesPerView:4,spaceBetween:32}}})})),document.addEventListener("DOMContentLoaded",(function(){var e=document.querySelector(".js-shop-search-input"),t=document.querySelector(".js-shop-search-btn"),o=document.querySelector(".js-shop-form"),s=document.querySelector(".js-yamap"),n=[{label:"Москва, SitDownPls на Солянке",value:"м. Китай-город, ул. Солянка, д.24"},{label:"Москва, SitDownPls на Покровке",value:"м. Курская, ул. Покровка, д.14"}];if(e&&t&&o&&s){var r=function(e,t,o){return new ymaps.Placemark(e,t,o)};ymaps.ready((function(){var e=new ymaps.Map(s,{center:[55.752402,37.624233],zoom:14,controls:[]}),t={balloonShadow:!0,balloonPanelMaxMapArea:0,hideIconOnBalloonOpen:!1,balloonOffset:[-80,-5],iconLayout:"default#image",iconImageHref:"img/decor/elephant-secondary.svg",iconImageSize:[32,22],iconImageOffset:[-16,0]},i=[r([55.751897,37.642177],{balloonContentHeader:'<h2 class="balloon-title">SitDownPls на Солянке</h2><span class="balloon-descr">м. Китай-город, ул. Солянка, д.24</span><a class="balloon-phone phone" href="tel:+74958854547"><svg class="icon phone__icon" width="18" height="18"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="img/sprite.svg#icon-phone"></use></svg>+7 (495) 885-45-47</a><hr class="balloon-hr">',balloonContentBody:'<p class="balloon-worktime"><span class="balloon-text-grey">Часы работы</span>: с 10:00 до 21:00</p>',balloonContentFooter:'<hr class="balloon-hr balloon-hr--mb"><p class="balloon-about"><span class="balloon-text-grey">Что здесь</span>: шоурум, пункт отгрузки, пункт<br> выдачи, пункт обмена-возврата,<br> сервисный центр</p>',hintContent:"SitDownPls: Магазин мебели"},t),r([55.763343,37.654408],{balloonContentHeader:'<h2 class="balloon-title">SitDownPls на Солянке</h2><span class="balloon-descr">м. Китай-город, ул. Солянка, д.24</span><a class="balloon-phone phone" href="tel:+74958854547"><svg class="icon phone__icon" width="18" height="18"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="img/sprite.svg#icon-phone"></use></svg>+7 (495) 885-45-47</a><hr class="balloon-hr">',balloonContentBody:'<p class="balloon-worktime"><span class="balloon-text-grey">Часы работы</span>: с 10:00 до 21:00</p>',balloonContentFooter:'<hr class="balloon-hr balloon-hr--mb"><p class="balloon-about"><span class="balloon-text-grey">Что здесь</span>: шоурум, пункт отгрузки, пункт<br> выдачи, пункт обмена-возврата,<br> сервисный центр</p>',hintContent:"SitDownPls: Магазин мебели"},t)];e.geoObjects.add(i[0]),e.geoObjects.add(i[1]),i.forEach((function(e){e.events.add("click",(function(t){e.balloon.open()}))})),o.addEventListener("submit",(function(e){switch(new FormData(e.target).get("shop")){case n[0].label:i[0].balloon.open();break;case n[1].label:i[1].balloon.open()}}))})),o.addEventListener("submit",(function(e){e.preventDefault()}));new Awesomplete(e,{minChars:0,replace:function(t){e.value=t.label},item:function(e){var t=document.createElement("li");t.classList.add("shop-search__item");var o=document.createElement("span");o.classList.add("shop-search__name"),o.textContent=e.label;var s=document.createElement("span");return s.classList.add("shop-search__addr"),s.textContent=e.value,t.append(o,s),t},list:n})}}));